# ===============================
# =         DATA SOURCE
# ===============================

spring.datasource.url = ${URL_DATABASE:jdbc:mysql://localhost:3307/proposta?useTimezone=true&serverTimezone=UTC}
spring.datasource.username = ${DB_USER:root}
spring.datasource.password = ${DB_PASSWORD:root}

# Keep the connection alive if idle for a long time (needed in production)
#spring.datasource.testWhileIdle = true
#spring.datasource.validationQuery = SELECT 1

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===============================
# =         JPA / HIBERNATE
# ===============================
spring.jpa.show-sql = false
spring.jpa.hibernate.ddl-auto = update

# Naming strategy
spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy

# Allows Hibernate to generate SQL optimized for a particular DBMS
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect

# =================================
# =     ACTUATOR
# =================================

management.endpoint.health.show-details=always
management.endpoints.web.exposure.include=*
info.app.name=@project.name@
info.app.version=@project.version@
info.app.description=@project.description@
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@

# =================================
# =     FEIGN
# =================================

solicitacao-analise.host=${SOLICITACAO_ANALISE_HOST:http://localhost:9999}
solicitacao-analise.proposta=${SOLICITACAO_ANALISE_PROPOSTA:/api/solicitacao}
api-cartao.host=${API_CARTAO_HOST:http://localhost:8888}
api-cartao.associate-card=${API_CARTAO_ASSOCIATE_CARD:/api/cartoes}

# =================================
# =     SCHEDULING
# =================================

fixedDelay.in.milliseconds=60000


# =================================
# =     KEYCLOAK
# =================================

## spring security resource server configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOAK_ISSUER_URI:http://localhost:18080/auth/realms/proposta}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${KEYCLOAK_JWKS_URI:http://localhost:18080/auth/realms/proposta/protocol/openid-connect/certs}	


# =================================
# =     DEVTOOLS
# =================================

spring.devtools.remote.secret=123